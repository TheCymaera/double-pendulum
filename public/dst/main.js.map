{"version":3,"file":"main.js","sources":["../../../../../misc/npm-packages/open-utilities/src/core/Disposable.ts","../../../../../misc/npm-packages/open-utilities/src/core/Duration.ts","../../../../../misc/npm-packages/open-utilities/src/async/Emitter.ts","../../../../../misc/npm-packages/open-utilities/src/async/Timer.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Vec2.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Circle.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Path.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Rect.ts","../../../../../misc/npm-packages/open-utilities/src/ui/Color.ts","../../../../../misc/npm-packages/open-utilities/src/ui/PathStyle.ts","../../../../../misc/npm-packages/open-utilities/src/ui/ShapeStyle.ts","../../../../../misc/npm-packages/open-utilities/src/rendering-web/Canvas2DRenderer.ts","../../src/DoublePendulum.ts","../../src/appearance.ts","../../src/ui.ts","../../src/main.ts"],"sourcesContent":["/**\n * A resource that needs to be disposed, such as an event listener.\n * @example\n * const id = setInterval(callback, 1000);\n * return new Disposable(()=>clearInterval(id));\n */\nexport class Disposable {\n\tconstructor(dispose: (this: Disposable)=>any) {\n\t\tthis.dispose = dispose;\n\t}\n\n\tdispose(): void {\n\t\t// do nothing\n\t}\n\n\tstatic is(value: any): value is Disposable {\n\t\treturn value && \"dispose\" in value;\n\t}\n\n\tstatic all(...disposables: Disposable[]): Disposable {\n\t\treturn new Disposable(()=>{\n\t\t\tfor (const disposable of disposables) {\n\t\t\t\tif (Disposable.is(disposable)) disposable.dispose();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic readonly empty = new Disposable(()=>undefined);\n}","/**\n * Duration\n */\n export class Duration {\n\tmilliseconds: number;\n\tconstructor({milliseconds = 0, seconds = 0, minutes = 0, hours = 0, days = 0, weeks = 0}) {\n\t\tthis.milliseconds = (\n\t\t\tmilliseconds +\n\t\t\tseconds * Duration.millisecondsPerSecond +\n\t\t\tminutes * Duration.millisecondsPerMinute +\n\t\t\thours * Duration.millisecondsPerHour +\n\t\t\tdays * Duration.millisecondsPerDay +\n\t\t\tweeks * Duration.millisecondsPerWeek\n\t\t);\n\t}\n\n\tset seconds(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerSecond;\n\t}\n\n\tget seconds() {\n\t\treturn this.milliseconds / Duration.millisecondsPerSecond;\n\t}\n\n\tset minutes(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerMinute;\n\t}\n\n\tget minutes() {\n\t\treturn this.milliseconds / Duration.millisecondsPerMinute;\n\t}\n\n\tset hours(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerHour;\n\t}\n\n\tget hours() {\n\t\treturn this.milliseconds / Duration.millisecondsPerHour;\n\t}\n\n\tset days(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerDay;\n\t}\n\n\tget days() {\n\t\treturn this.milliseconds / Duration.millisecondsPerDay;\n\t}\n\n\tset weeks(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerWeek;\n\t}\n\n\tget weeks() {\n\t\treturn this.milliseconds / Duration.millisecondsPerWeek;\n\t}\n\n\n\tget weeksPart() {\n\t\treturn Math.floor(this.milliseconds / Duration.millisecondsPerWeek);\n\t}\n\n\tget daysPart() {\n\t\treturn Math.floor(this.milliseconds / Duration.millisecondsPerDay);\n\t}\n\n\tget hoursPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerDay) / Duration.millisecondsPerHour);\n\t}\n\n\tget minutesPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerHour) / Duration.millisecondsPerMinute);\n\t}\n\n\tget secondsPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerMinute) / Duration.millisecondsPerSecond);\n\t}\n\n\tget millisecondsPart() {\n\t\treturn this.milliseconds % Duration.millisecondsPerSecond;\n\t}\n\n\tclone() {\n\t\treturn new Duration({ milliseconds: this.milliseconds });\n\t}\n\n\tabs() {\n\t\tthis.milliseconds = Math.abs(this.milliseconds);\n\t\treturn this;\n\t}\n\n\ttoString() {\n\t\tconst abs = this.clone().abs();\n\t\treturn `${this.daysPart}:${abs.hoursPart}:${abs.minutesPart}:${abs.secondsPart}:${abs.millisecondsPart}`;\n\t}\n\n\tstatic readonly millisecondsPerSecond \t\t= 1000;\n\tstatic readonly millisecondsPerMinute \t\t= Duration.millisecondsPerSecond * 60;\n\tstatic readonly millisecondsPerHour \t\t= Duration.millisecondsPerMinute * 60;\n\tstatic readonly millisecondsPerDay \t\t\t= Duration.millisecondsPerHour * 24;\n\tstatic readonly millisecondsPerWeek \t\t= Duration.millisecondsPerDay * 7;\n}","import { Disposable } from \"../core/index.js\";\n\nexport class Emitter<T> {\n\taddListener(listener: (value: T)=>any) {\n\t\tthis.#listeners.add(listener);\n\t\treturn new Disposable(()=>this.removeListener(listener));\n\t}\n\n\tremoveListener(listener: (value: T)=>any) {\n\t\tthis.#listeners.delete(listener);\n\t}\n\n\taddOnceListener(listener: (value: T)=>any) {\n\t\tconst onceListener = (value: T)=>{\n\t\t\tthis.removeListener(onceListener);\n\t\t\tlistener(value);\n\t\t};\n\t\treturn this.addListener(onceListener);\n\t}\n\n\n\t[Symbol.asyncIterator]() {\n\t\treturn new Emitter.Queue(this);\n\t}\n\n\tprotected Emit(value: T) {\n\t\tfor (const listener of this.#listeners) listener(value);\n\t}\n\n\treadonly #listeners: Set<(value: T)=>any> = new Set();\n}\n\nexport namespace Emitter {\n\texport class Queue<T> implements AsyncIterableIterator<T> {\n\t\treadonly onQueueShifted: Emitter<void> = new CustomEmitter;\n\t\n\t\tconstructor(stream: Emitter<T>) {\n\t\t\tthis.#queue = [];\n\t\t\tthis.#stream = stream;\n\t\t\tstream.addListener(value=>this.#queue.push(value));\n\t\t}\n\t\n\t\t[Symbol.asyncIterator](): AsyncIterableIterator<T> {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tisEmpty() {\n\t\t\treturn this.#queue.length === 0;\n\t\t}\n\t\n\t\tasync next(): Promise<IteratorResult<T, any>> {\n\t\t\tif (this.#queue.length === 0) await new Promise(resolve=>this.#stream.addOnceListener(resolve));\n\t\t\t(this.onQueueShifted as CustomEmitter<void>).emit();\n\t\t\treturn { done: false, value: this.#queue.shift()! };\n\t\t}\n\t\n\t\treadonly #stream: Emitter<T>;\n\t\treadonly #queue: T[];\n\t}\n}\n\nexport class CustomEmitter<T> extends Emitter<T> {\n\temit(value: T) {\n\t\tsuper.Emit(value);\n\t}\n}","import { Disposable } from \"../core/Disposable.js\";\nimport { Duration } from \"../core/Duration.js\";\n\n/**\n * Timer\n */\n export class Timer implements Disposable {\n\tdispose() {\n\t\tclearInterval(this._handle);\n\t}\n\n\t/**\n\t * Returns a promise that resolves after a specified duration.\n\t * @example\n\t * console.log(\"IE: I'll only take a moment.\");\n\t * await Timer.delayed(new Duration({hour: 1}));\n\t * console.log(\"IE: Complete!\");\n\t */\n\tstatic schedule(duration: Duration) {\n\t\treturn new Promise(resolve=>setTimeout(resolve, duration.milliseconds));\n\t}\n\n\t/**\n\t * Returns a repeating timer.\n\t * @example\n\t * Timer.periodic(new Duration({seconds: 1}), ()=>console.log(\"Tick\"));\n\t */\n\tstatic periodic(duration: Duration, callback: (this: Timer)=>any) {\n\t\treturn new Timer(setInterval(()=>{\n\t\t\tcallback.call(this);\n\t\t}, duration.milliseconds));\n\t}\n\n\tprivate constructor(private readonly _handle: number) {}\n}","export class Vec2 {\n\tx: number;\n\ty: number;\n\tconstructor(x: number, y: number) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tclone() {\n\t\treturn new Vec2(this.x, this.y);\n\t}\n\n\tlength() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t}\n\n\tdistanceTo(other: Vec2) {\n\t\tconst dx = this.x - other.x;\n\t\tconst dy = this.y - other.y;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n\n\tangleTo(other: Vec2) {\n\t\tconst dx = other.x - this.x;\n\t\tconst dy = other.y - this.y;\n\t\treturn Math.atan2(dy, dx);\n\t}\n\n\tnormalize() {\n\t\tconst length = this.length();\n\t\tif (length > 0) {\n\t\t\tthis.x /= length;\n\t\t\tthis.y /= length;\n\t\t}\n\t\treturn this;\n\t}\n\n\tcopy(other: Vec2) {\n\t\tthis.x = other.x;\n\t\tthis.y = other.y;\n\t\treturn this;\n\t}\n\n\tadd(other: Vec2) {\n\t\tthis.x += other.x;\n\t\tthis.y += other.y;\n\t\treturn this;\n\t}\n\n\tsubtract(other: Vec2) {\n\t\tthis.x -= other.x;\n\t\tthis.y -= other.y;\n\t\treturn this;\n\t}\n\n\tmultiply(scale: number) {\n\t\tthis.x *= scale;\n\t\tthis.y *= scale;\n\t\treturn this;\n\t}\n\n\trotate(angle: number) {\n\t\tconst cos = Math.cos(angle);\n\t\tconst sin = Math.sin(angle);\n\t\tconst x = this.x;\n\t\tconst y = this.y;\n\t\tthis.x = x * cos - y * sin;\n\t\tthis.y = x * sin + y * cos;\n\t\treturn this;\n\t}\n\n\ttoString() {\n\t\treturn `Vec2(${this.x.toFixed(3)}, ${this.y.toFixed(3)})`;\n\t}\n\n\tstatic readonly zero = Object.freeze(new Vec2(0, 0));\n}","import { Vec2 } from \"./Vec2.js\";\n\nexport class Circle {\n\tcenter: Vec2;\n\tradius: number;\n\n\tconstructor(center: Vec2, radius: number) {\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\t}\n\n\tstatic readonly zero = Object.freeze(new Circle(Vec2.zero, 0));\n}","import { Vec2 } from \"./Vec2.js\";\n\nexport class Path {\n\torigin = new Vec2(0, 0);\n\treadonly segments: Path.Segment[] =  [];\n\n\tsetOrigin(origin: Vec2) {\n\t\tthis.origin = origin;\n\t\treturn this;\n\t}\n\n\tlineTo(point: Vec2) {\n\t\tthis.segments.push(new Path.LineTo(point));\n\t\treturn this;\n\t}\n\n\tclose() {\n\t\tthis.segments.push(new Path.Close());\n\t\treturn this;\n\t}\n}\n\n\nexport namespace Path {\n\texport class LineTo {\n\t\tconstructor(readonly point: Vec2) {}\n\t}\n\n\texport class Close {\n\t\tconstructor() {}\n\t}\n\n\texport type Segment = LineTo|Close;\n}\n\n","import { Vec2 } from './Vec2';\n\nexport class Rect {\n\tprivate constructor(\n\t\tpublic x1: number,\n\t\tpublic y1: number,\n\t\tpublic x2: number,\n\t\tpublic y2: number,\n\t) {}\n\n\tstatic readonly zero = Object.freeze(new Rect(0, 0, 0, 0));\n\n\tstatic fromPoints(p1: Vec2, p2: Vec2) {\n\t\treturn new Rect(p1.x, p1.y, p2.x, p2.y);\n\t}\n\n\tstatic fromCenter(center: Vec2, xSize: number, ySize: number) {\n\t\tconst x1 = center.x - xSize / 2;\n\t\tconst y1 = center.y - ySize / 2;\n\t\treturn new Rect(x1, y1, x1 + xSize, y1 + ySize);\n\t}\n\n\tstatic fromDimensions(x: number, y: number, width: number, height: number) {\n\t\treturn new Rect(x, y, x + width, y + height);\n\t}\n\n\tstatic fromCoordinates(x1: number, y1: number, x2: number, y2: number) {\n\t\treturn new Rect(x1, y1, x2, y2);\n\t}\n\n\tget width() {\n\t\treturn this.x2 - this.x1;\n\t}\n\n\tget height() {\n\t\treturn this.y2 - this.y1;\n\t}\n\n\tset width(value: number) {\n\t\tthis.x2 = this.x1 + value;\n\t}\n\n\tset height(value: number) {\n\t\tthis.y2 = this.y1 + value;\n\t}\n\n\tget center() {\n\t\treturn new Vec2(\n\t\t\t(this.x1 + this.x2) / 2,\n\t\t\t(this.y1 + this.y2) / 2\n\t\t);\n\t}\n\n\tset center(value: Vec2) {\n\t\tconst width = this.width;\n\t\tconst height = this.height;\n\t\t\n\t\tthis.x1 = value.x - width / 2;\n\t\tthis.y1 = value.y - height / 2;\n\t\tthis.x2 = value.x + width / 2;\n\t\tthis.y2 = value.y + height / 2;\n\t}\n\n\tget minX() {\n\t\treturn Math.min(this.x1, this.x2);\n\t}\n\n\tget minY() {\n\t\treturn Math.min(this.y1, this.y2);\n\t}\n\n\tget maxX() {\n\t\treturn Math.max(this.x1, this.x2);\n\t}\n\n\tget maxY() {\n\t\treturn Math.max(this.y1, this.y2);\n\t}\n\n\ttoString() {\n\t\treturn `Rect(${this.x1.toFixed(3)}, ${this.y1.toFixed(3)}, ${this.width.toFixed(3)}, ${this.height.toFixed(3)})`;\n\t}\n\n\tstatic mapPointOnto(i: Rect, point: Vec2, o: Rect) {\n\t\tconst x = (point.x - i.x1) / (i.x2 - i.x1) * (o.x2 - o.x1) + o.x1;\n\t\tconst y = (point.y - i.y1) / (i.y2 - i.y1) * (o.y2 - o.y1) + o.y1;\n\t\treturn new Vec2(x, y);\n\t}\n\n\tstatic mapRectOnto(i: Rect, r: Rect, o: Rect) {\n\t\treturn Rect.fromPoints(\n\t\t\tRect.mapPointOnto(i, new Vec2(r.x1, r.y1), o), \n\t\t\tRect.mapPointOnto(i, new Vec2(r.x2, r.y2), o),\n\t\t);\n\t}\n}\n\n","export class Color {\n\tr: number;\n\tg: number;\n\tb: number;\n\ta: number;\n\tstatic fromRGBA(r: number, g: number, b: number, a: number): Color {\n\t\treturn new Color(r, g, b, a);\n\t}\n\n\tstatic readonly black = Object.freeze(new Color(0, 0, 0, 255));\n\tstatic readonly white = Object.freeze(new Color(255, 255, 255, 255));\n\tstatic readonly transparent = Object.freeze(new Color(0, 0, 0, 0));\n\n\tprivate constructor(r: number, g: number, b: number, a: number) {\n\t\tthis.r = r | 0;\n\t\tthis.g = g | 0;\n\t\tthis.b = b | 0;\n\t\tthis.a = a | 0;\n\t}\n\n\ttoString() {\n\t\treturn \"#\" + \n\t\tthis.r.toString(16).padStart(2, \"0\") + \n\t\tthis.g.toString(16).padStart(2, \"0\") +\n\t\tthis.b.toString(16).padStart(2, \"0\") +\n\t\tthis.a.toString(16).padStart(2, \"0\");\n\t}\n}","import { Color } from \"./Color.js\";\n\nexport class PathStyle {\n\tcolor: Color;\n\twidth: number;\n\tcap: PathStyle.Cap;\n\tjoin: PathStyle.Join;\n\tmiterLimit: number;\n\t\n\tconstructor({\n\t\tcolor = Color.transparent,\n\t\twidth = 1,\n\t\tcap = PathStyle.Cap.Butt,\n\t\tjoin = PathStyle.Join.Miter,\n\t\tmiterLimit = 10,\n\t} = {}) {\n\t\tthis.color = color;\n\t\tthis.width = width;\n\t\tthis.cap = cap;\n\t\tthis.join = join;\n\t\tthis.miterLimit = miterLimit;\n\t}\n}\n\nexport namespace PathStyle {\n\texport enum Cap {\n\t\tButt,\n\t\tRound,\n\t\tSquare,\n\t}\n\n\texport enum Join {\n\t\tMiter,\n\t\tRound,\n\t\tBevel,\n\t}\n}","import { Color } from \"./Color.js\";\nimport { PathStyle } from \"./PathStyle.js\";\n\nexport class ShapeStyle {\n\tstroke: PathStyle;\n\tfillColor: Color;\n\tconstructor({ \n\t\tstroke = new PathStyle(), \n\t\tfillColor = Color.transparent \n\t} = {}) {\n\t\tthis.stroke = stroke;\n\t\tthis.fillColor = fillColor;\n\t}\n}","import { Circle } from \"../geometry/Circle.js\";\nimport { Vec2, Rect } from \"../geometry/index.js\";\nimport { Path } from \"../geometry/Path.js\";\nimport { Color, Sprite } from \"../ui/index.js\";\nimport { PathStyle } from \"../ui/PathStyle.js\";\nimport { ShapeStyle } from \"../ui/ShapeStyle.js\";\n\n\nexport class Canvas2DRenderer {\n\treadonly ctx: CanvasRenderingContext2D;\n\tconstructor(ctx: CanvasRenderingContext2D) {\n\t\tthis.ctx = ctx;\n\t}\n\n\tstatic fromCanvas(canvas: HTMLCanvasElement): Canvas2DRenderer {\n\t\treturn new Canvas2DRenderer(canvas.getContext(\"2d\")!);\n\t}\n\n\tstatic sampleCSSColor(color: string) {\n\t\tconst canvas = document.createElement(\"canvas\")!;\n\t\tcanvas.width = canvas.height = 1;\n\t\tconst ctx = canvas.getContext('2d')!;\n\t\tctx.fillStyle = color;\n\t\tctx.fillRect(0,0,1,1);\n\t\tconst result = ctx.getImageData(0, 0, 1, 1).data;\n\t\treturn Color.fromRGBA(result[0]!, result[1]!, result[2]!, result[3]!);\n\t}\n\n\tviewportRect(): Rect {\n\t\treturn this.#viewportRect;\n\t}\n\n\tsetViewportRect(viewRect: Rect) {\n\t\tthis.#viewportRect = viewRect;\n\t}\n\n\tclientRect(): Rect {\n\t\treturn Rect.fromCoordinates(0, this.ctx.canvas.clientHeight, this.ctx.canvas.clientWidth, 0);\n\t}\n\n\tbitmapRect(): Rect {\n\t\treturn Rect.fromCoordinates(0, this.ctx.canvas.height, this.ctx.canvas.width, 0);\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n\t}\n\t\n\tdrawLine(point1: Vec2, point2: Vec2, style: PathStyle) {\n\t\tconst p1 = Rect.mapPointOnto(this.#viewportRect, point1, this.bitmapRect());\n\t\tconst p2 = Rect.mapPointOnto(this.#viewportRect, point2, this.bitmapRect());\n\n\t\tthis.#setPathStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(p1.x, p1.y);\n\t\tthis.ctx.lineTo(p2.x, p2.y);\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawPath(path: Path, style: PathStyle) {\n\t\tthis.#setPathStyle(style);\n\t\tthis.#usePath(path);\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawCircle(circle: Circle, style: ShapeStyle) {\n\t\tconst center = Rect.mapPointOnto(this.#viewportRect, circle.center, this.bitmapRect());\n\t\tconst radius = circle.radius * this.ctx.canvas.width / this.#viewportRect.width;\n\n\t\tthis.#setShapeStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(center.x, center.y, radius, 0, 2 * Math.PI);\n\t\tthis.ctx.fill();\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawRect(rect: Rect, style: ShapeStyle) {\n\t\tconst mappedRect = Rect.mapRectOnto(this.#viewportRect, rect, this.bitmapRect());\n\n\t\tthis.#setShapeStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.rect(mappedRect.x1, mappedRect.y1, mappedRect.width, mappedRect.height);\n\t\tthis.ctx.fill();\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawSprite(rect: Rect, sprite: Sprite) {\n\t\tconst mappedRect = Rect.mapRectOnto(this.#viewportRect, rect, this.bitmapRect());\n\t\tconst bitmapRect = sprite.bitmapRect;\n\t\tthis.ctx.drawImage(\n\t\t\tsprite.image, \n\t\t\tbitmapRect.x1,\n\t\t\tbitmapRect.y1,\n\t\t\tbitmapRect.width,\n\t\t\tbitmapRect.height,\n\t\t\tmappedRect.x1, \n\t\t\tmappedRect.y1, \n\t\t\tmappedRect.width,\n\t\t\tmappedRect.height,\n\t\t);\n\t}\n\n\t#viewportRect = Rect.zero;\n\n\t#usePath(path: Path) {\n\t\tthis.ctx.beginPath();\n\t\tconst p = Rect.mapPointOnto(this.#viewportRect, path.origin, this.bitmapRect());\n\t\tthis.ctx.moveTo(p.x, p.y);\n\t\tfor (const segment of path.segments) {\n\t\t\tif (segment instanceof Path.LineTo) {\n\t\t\t\tconst p = Rect.mapPointOnto(this.#viewportRect, segment.point, this.bitmapRect());\n\t\t\t\tthis.ctx.lineTo(p.x, p.y);\n\t\t\t}\n\n\t\t\tif (segment instanceof Path.Close) {\n\t\t\t\tthis.ctx.closePath();\n\t\t\t}\n\t\t}\n\t}\n\n\t#setPathStyle(pathStyle: PathStyle) {\n\t\tthis.ctx.lineWidth = pathStyle.width;\n\t\tthis.ctx.strokeStyle = pathStyle.color.toString();\n\t\tthis.ctx.miterLimit = pathStyle.miterLimit;\n\n\t\tswitch (pathStyle.cap) {\n\t\t\tcase PathStyle.Cap.Butt: this.ctx.lineCap = \"butt\"; break;\n\t\t\tcase PathStyle.Cap.Round: this.ctx.lineCap = \"round\"; break;\n\t\t\tcase PathStyle.Cap.Square: this.ctx.lineCap = \"square\"; break;\n\t\t}\n\n\t\tswitch (pathStyle.join) {\n\t\t\tcase PathStyle.Join.Miter: this.ctx.lineJoin = \"miter\"; break;\n\t\t\tcase PathStyle.Join.Round: this.ctx.lineJoin = \"round\"; break;\n\t\t\tcase PathStyle.Join.Bevel: this.ctx.lineJoin = \"bevel\"; break;\n\t\t}\n\t}\n\n\t#setShapeStyle(shapeStyle: ShapeStyle) {\n\t\tthis.#setPathStyle(shapeStyle.stroke);\n\t\tthis.ctx.fillStyle = shapeStyle.fillColor.toString();\n\t}\n}\n\n",null,null,null,null],"names":["Disposable","constructor","dispose","this","static","value","disposables","disposable","is","Duration","milliseconds","seconds","minutes","hours","days","weeks","millisecondsPerSecond","millisecondsPerMinute","millisecondsPerHour","millisecondsPerDay","millisecondsPerWeek","weeksPart","Math","floor","daysPart","hoursPart","minutesPart","secondsPart","millisecondsPart","clone","abs","toString","Emitter","addListener","listener","listeners","add","removeListener","delete","addOnceListener","onceListener","Symbol","asyncIterator","Queue","Emit","Set","onQueueShifted","CustomEmitter","stream","queue","push","isEmpty","length","async","Promise","resolve","emit","done","shift","super","Timer","_handle","clearInterval","duration","setTimeout","callback","setInterval","call","Vec2","x","y","sqrt","distanceTo","other","dx","dy","angleTo","atan2","normalize","copy","subtract","multiply","scale","rotate","angle","cos","sin","toFixed","Object","freeze","Circle","center","radius","zero","Path","origin","segments","setOrigin","lineTo","point","LineTo","close","Close","Rect","x1","y1","x2","y2","p1","p2","xSize","ySize","width","height","minX","min","minY","maxX","max","maxY","i","o","r","fromPoints","mapPointOnto","Color","g","b","a","padStart","PathStyle","color","cap","join","miterLimit","transparent","Cap","Butt","Join","Miter","ShapeStyle","stroke","fillColor","Canvas2DRenderer","ctx","canvas","getContext","document","createElement","fillStyle","fillRect","result","getImageData","data","fromRGBA","viewportRect","setViewportRect","viewRect","clientRect","fromCoordinates","clientHeight","clientWidth","bitmapRect","clear","clearRect","drawLine","point1","point2","style","setPathStyle","beginPath","moveTo","drawPath","path","usePath","drawCircle","circle","setShapeStyle","arc","PI","fill","drawRect","rect","mappedRect","mapRectOnto","drawSprite","sprite","drawImage","image","p","segment","closePath","pathStyle","lineWidth","strokeStyle","lineCap","Round","Square","lineJoin","Bevel","shapeStyle","sq","pendulumColor","sampleCSSColor","getComputedStyle","body","pendulumHeldColor","getPropertyValue","bulbStyle","bulbHeldStyle","bulbHeldOutlineStyle","querySelector","onclick","toggleAttribute","navigator","share","title","text","content","url","window","location","href","alert","renderer","fromCanvas","heldBulb","ResizeObserver","canvasLength","ratio","fromCenter","draw","observe","dp","gravity","mass1","mass2","length1","length2","angle1","angle2","velocity1","velocity2","step","m1","m2","a1","a2","l1","l2","v1","v2","acc1","acc2","line1","line2","drawBulb","held","appearance.bulbHeldStyle","appearance.bulbHeldOutlineStyle","appearance.bulbStyle","appearance.pathStyle","periodic","mouseCoordinate","updateMouseCoordinate","event","mouseClientPosition","clientX","clientY","onpointermove","onpointerdown","onpointerup","undefined","console","log","defineProperty"],"mappings":"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"}